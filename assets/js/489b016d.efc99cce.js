"use strict";(self.webpackChunkmirage_docs=self.webpackChunkmirage_docs||[]).push([[6076],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(o,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},36666:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const i={},l="Multiple Additive Scenes Example",s={unversionedId:"examples/multiple-additive-scenes",id:"examples/multiple-additive-scenes",title:"Multiple Additive Scenes Example",description:"In Build Settings, remove all scenes and add both of the scenes from the Scenes folder in the following order:",source:"@site/docs/examples/multiple-additive-scenes.md",sourceDirName:"examples",slug:"/examples/multiple-additive-scenes",permalink:"/Hertzole/Mirage/docs/examples/multiple-additive-scenes",draft:!1,editUrl:"https://github.com/Hertzole/Hertzole/Mirage/tree/master/doc/docs/examples/multiple-additive-scenes.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Chat",permalink:"/Hertzole/Mirage/docs/examples/chat"},next:{title:"Pong",permalink:"/Hertzole/Mirage/docs/examples/pong"}},o={},c=[{value:"MultiScene Network Manager",id:"multiscene-network-manager",level:2},{value:"Playing in the Instances",id:"playing-in-the-instances",level:2}],p={toc:c};function d(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"multiple-additive-scenes-example"},"Multiple Additive Scenes Example"),(0,r.kt)("p",null,"In Build Settings, remove all scenes and add both of the scenes from the Scenes folder in the following order:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Main"),(0,r.kt)("li",{parentName:"ul"},"Game")),(0,r.kt)("p",null,"Open the Main scene in the Editor and make sure the Game Scene field in the MultiScene Network Manager on the Network scene object contains the Game scene. This is already setup by default, but if the Main scene was opened and saved before putting the scenes in the Build Settings list, the Game Scene field may be cleared accidentally."),(0,r.kt)("h2",{id:"multiscene-network-manager"},"MultiScene Network Manager"),(0,r.kt)("p",null,"The MultiScene Network Manager is derived from the base Network Manager and is responsible for additively loading the subscene instances and placing the players in their respective subscene instances and initializing player SyncVars. It has a Game Scene field where the Game subscene is assigned, and an Instances field to set how many instances are loaded on the server."),(0,r.kt)("p",null,"In this example, the subscene instances are additively loaded on the server with ",(0,r.kt)("inlineCode",{parentName:"p"},"localPhysicsMode = LocalPhysicsMode.Physics3D"),". Physics subscenes do not auto-simulate, so each scene has a game object with a generic ",(0,r.kt)("inlineCode",{parentName:"p"},"PhysicsSimulator")," script on it. This script does nothing on the client, only on the server."),(0,r.kt)("p",null,"Clients only ever have one instance of the subscene additively loaded (without ",(0,r.kt)("inlineCode",{parentName:"p"},"localPhysicsMode"),"), while server has them all. All networked objects have a ",(0,r.kt)("inlineCode",{parentName:"p"},"NetworkSceneChecker")," component which is what isolates them to their specific subscene."),(0,r.kt)("h2",{id:"playing-in-the-instances"},"Playing in the Instances"),(0,r.kt)("p",null,"File -",">"," Build and Run"),(0,r.kt)("p",null,"Start at least 3 built instances: These will all be client players."),(0,r.kt)("p",null,"Press Play in the Editor and click Host (Server + Client) in the HUD - This will be the host and the 1st player. You can also use Server Only if you prefer."),(0,r.kt)("p",null,"Click Client in the built instances."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"WASDQE keys to move & turn your player capsule, Space to jump.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Colliding with the small colored spheres scores points base on their color.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Colliding with the larger tumblers sends them rolling around...they're server-side non-kinematic rigidbodies.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Only scores for the players in the same subscene are shown at the top of the game window."))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"MultiScene Network Manager",src:n(28029).Z,width:"538",height:"567"})))}d.isMDXComponent=!0},28029:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/MultiSceneNetworkManager-32aa41d8dadce8ae5456ba09f642c656.PNG"}}]);